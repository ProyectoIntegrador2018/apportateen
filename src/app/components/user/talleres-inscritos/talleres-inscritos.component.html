<div class="container-fluid register">
  <div class="container no-printme">
    <div class="segmented-control">
      <div class="row justify-content-center">
        <div class="col-7">
          <div class="scContainer">
            <button [ngClass]="{'leftSc': true, 'enabled': isTalleresInscritos}" (click)="toggleButton('left')">Talleres
              Inscritos</button>
            <button [ngClass]="{'rightSc': true, 'enabled': !isTalleresInscritos}"
              (click)="toggleButton('right')">Talleres por pagar</button>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="isTalleresInscritos" class="instruction">
      <p>Tu inscripción a los siguientes talleres ha sido completada. Revisa tu correo y tu sección de avisos
        periodicamente al acercarse la fecha del taller para ponerte al corriente.</p>
    </div>
    <div *ngIf="!isTalleresInscritos" class="instruction">
      <p>Para completar tu inscripción a los siguientes talleres, por favor sube tu comprobante de pago.</p>
    </div>

    <div class="items">
      <div *ngFor="let taller of talleres">
        <div class="register__item"
          *ngIf="isTalleresInscritos && taller['estatus'] == 'aceptado' || !isTalleresInscritos && taller['estatus'] != 'aceptado'">
          <!-- info-container -->
          <div [routerLink]="['../inscripcion/detalleTaller/', taller.id]" class="info-container">
            <img [src]="taller.url_array[0]">
            <div class="text-container">
              <div class="ciudad">{{taller.estado}}</div>
              <h3 class="title">{{taller.nombre}}</h3>
              <p *ngIf="taller['estatus'] == 'aceptado'" class="desc">{{taller.descripcion}}</p>

            </div>
          </div>
          <!-- btn container -->
          <div class="btn-container">
            <!-- pendiente -->
            <div *ngIf="taller['estatus'] == 'pendiente'">
              <!-- Ficha de pago -->
              <button id="btnFicha" mat-button mat-stroked-button class="btn primary card"
                (click)="imprimirFichaPago(taller)" *ngIf="taller['estatus'] == 'pendiente'">Imprimir ficha de
                pago</button>
              <!-- Subir comprobante -->
              <p class="pago">Sube tu Comprobante de Pago</p>
              <div class="custom-file">
                <input type="file" #comprobantes class="custom-file-input" id="{{'comprobante' + taller.id}}"
                  (change)="fileInput($event, taller)" accept=".pdf">
                <label for="{{'comprobante' + taller.id}}" id="{{'label' + taller.id}}" #labelComprobantes
                  class="custom-file-label text-truncate">{{ getNombreArchivo(taller)}}</label>
              </div>
              <!-- Desinscribir -->
              <button mat-button mat-raised-button class="btn reject card separacion"
                (click)="quitarInscripcion(taller)">Desinscribir
              </button>
            </div>
            <!-- en revision -->
            <div *ngIf="taller['estatus'] == 'en revision'">
              <p class="enRevision">Tu comprobante de pago esta siendo revisado.</p>
              <p class="cambiarRevision">Cambiar comprobante</p>
              <!-- Subir comprobante -->
              <div class="custom-file">
                <input type="file" #comprobantes class="custom-file-input" id="{{'comprobante' + taller.id}}"
                  (change)="fileInput($event, taller)" accept=".pdf">
                <label for="{{'comprobante' + taller.id}}" id="{{'label' + taller.id}}" #labelComprobantes
                  class="custom-file-label text-truncate">{{ getNombreArchivo(taller)}}</label>
              </div>
              <!-- Desinscribir -->
              <button mat-button mat-raised-button class="btn reject card separacion"
                (click)="quitarInscripcion(taller)">Desinscribir
              </button>
            </div>
            <!-- rechazado -->
            <div *ngIf="taller['estatus'] == 'rechazado'">
              <!-- Mensaje -->
              <p class="rechazado" *ngIf="taller['mensaje'] != null && taller['mensaje'] != ''">Tu comprobante de pago
                fue rechazado por la siguiente razón:</p>
              <p class="rechazado" *ngIf="taller['mensaje'] == null || taller['mensaje'] == ''">Tu comprobante de pago
                fue rechazado, favor de subir uno nuevo.</p>
              <p class="mensajeRechazado">{{taller["mensaje"]}}</p>
              <!-- Ficha de Pago -->
              <button id="btnFicha" mat-button mat-stroked-button class="btn primary card"
                (click)="imprimirFichaPago(taller)">Imprimir ficha de
                pago</button>
              <!-- Subir comprobante -->
              <p class="pago">Sube un nuevo comprobante</p>
              <div class="custom-file">
                <input type="file" #comprobantes class="custom-file-input" id="{{'comprobante' + taller.id}}"
                  (change)="fileInput($event, taller)" accept=".pdf">
                <label for="{{'comprobante' + taller.id}}" id="{{'label' + taller.id}}" #labelComprobantes
                  class="custom-file-label text-truncate">{{ getNombreArchivo(taller)}}</label>
              </div>
              <!-- Desinscribir -->
              <button mat-button mat-raised-button class="btn reject card"
                (click)="quitarInscripcion(taller)">Desinscribir
              </button>
            </div>
            <!-- aceptado -->
            <div *ngIf="taller['estatus'] == 'aceptado'">
              <button mat-button mat-raised-button class="btn reject card"
                (click)="quitarInscripcion(taller)">Desinscribir
              </button>
            </div>
            <!-- <button id="btnFicha" mat-button mat-stroked-button class="btn primary card"
              (click)="imprimirFichaPago(taller)" *ngIf="taller['estatus'] == 'pendiente'">Imprimir ficha de
              pago</button>
            <p class="pago" *ngIf="taller['estatus'] == 'pendiente'">Sube tu Comprobante de Pago</p>
            <p class="pago" *ngIf="taller['estatus'] == 'en revision'">Tu comprobante esta en revisión</p>
            <input type="file" #comprobantes class="custom-file-input"
              *ngIf="taller['estatus'] == 'pendiente' || taller['estatus'] == 'en revision'"
              id="{{'comprobante' + taller.id}}" (change)="fileInput($event, taller)" accept=".pdf">
            <label for="{{'comprobante' + taller.id}}" id="{{'label' + taller.id}}" #labelComprobantes
              *ngIf="taller['estatus'] == 'pendiente' || taller['estatus'] == 'en revision'"
              class="custom-file-label text-truncate">{{ getNombreArchivo(taller)}}</label> -->
            <!-- <button mat-button mat-raised-button class="btn reject card" (click)="quitarInscripcion(taller)">Desinscribir
            </button> -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- FICHA DE PAGO-->
  <div class="printme" id="fichaPago">
    <img src="../../../../assets/img/csoftcolor.jpeg" alt="csoft">
    <p><span class="bold">Nombre:</span> Consejo para el Desarrollo de la Industria de Software de Nuevo
      León, A.C.</p>
    <p><span class="bold">Banco:</span> BBVA Bancomer</p>
    <p><span class="bold">CLABE:</span> 012580001609472614</p>
    <p><span class="bold">Monto:</span> {{ currentCost }} </p>
  </div>
</div>
